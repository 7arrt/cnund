<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>HBD,‘º’°’∏÷Ç÷Ä’´’Ø’Ø’Ø’Ø’Ø’Ø’Ø’Ø’Ø’Ø’Ø’Ø’Ø’Ø’Ø’Ø</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      /* Custom styles */
      body {
        font-family: "Inter", sans-serif;
        background-color: #f7f7f7;
        color: #333;
        position: relative;
        min-height: 100vh;
      }

      #cake {
        position: relative;
        width: 300px;
        height: 180px;
        margin: 40px auto;
      }
      .layer {
        position: absolute;
        left: 0;
        right: 0;
        border-radius: 50% / 10%;
        background-color: #e0ac93;
        box-shadow: 0 7px 0 #c79783;
      }
      .layer-bottom {
        bottom: 0;
        height: 60px;
        z-index: 1;
      }
      .layer-middle {
        bottom: 50px;
        height: 60px;
        z-index: 2;
        transform: scale(0.9);
      }
      .layer-top {
        bottom: 100px;
        height: 60px;
        z-index: 3;
        transform: scale(0.8);
      }
      .icing {
        position: absolute;
        top: -10px;
        left: 0;
        right: 0;
        height: 25px;
        background-color: #ffe6f0;
        border-radius: 50% / 10%;
        z-index: 4;
      }
      .candle-flame {
        width: 10px;
        height: 25px;
        background-color: #ffcc00;
        border-radius: 50%;
        position: absolute;
        top: -40px;
        left: 50%;
        transform: translateX(-50%);
        box-shadow: 0 0 7px 3px rgba(255, 165, 0, 0.9);
        transition: opacity 0.5s ease-in-out;
      }
      .candle-wick {
        width: 3px;
        height: 12px;
        background-color: #555;
        position: absolute;
        top: -20px;
        left: 50%;
        transform: translateX(-50%);
      }

      .minimal-button {
        padding: 12px 24px;
        border: 2px solid #5d4037;
        color: #5d4037;
        background-color: transparent;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 1px;
        transition: all 0.3s ease;
        cursor: pointer;
        border-radius: 9999px;
      }
      .minimal-button:hover {
        background-color: #5d4037;
        color: #fff;
        box-shadow: 0 4px 10px rgba(93, 64, 55, 0.3);
      }
      .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.85); 
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 50;
      }
      .modal-content {
        background-color: #fff;
        padding: 0;
        margin: 1rem;
        max-width: 90vw;
        max-height: 90vh;
        overflow-y: auto;
        border-radius: 1rem;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        animation: fadeIn 0.3s ease-out;
      }
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: scale(0.9);
        }
        to {
          opacity: 1;
          transform: scale(1);
        }
      }

      .photo-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 12px;
      }
      .photo-item {
        aspect-ratio: 1 / 1;
        overflow: hidden;
        position: relative;
        border-radius: 0.75rem;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        transition: transform 0.3s ease;
      }
      .photo-item:hover {
        transform: scale(1.02);
        box-shadow: 0 10px 15px rgba(255, 105, 180, 0.5);
        cursor: pointer;
      }
      .photo-item img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      @keyframes twinkle {
        0% {
          opacity: 0;
          transform: scale(0.5);
        }
        50% {
          opacity: 0.5;
          transform: scale(1.2);
        }
        100% {
          opacity: 0.3;
          transform: scale(0.4);
        }
      }
      .twinkle-heart {
        position: absolute;
        color: #fe1187;
        font-size: 1.5rem;
        z-index: 10;
        pointer-events: none;
        opacity: 0; /* Start invisible */
        animation: twinkle 2s infinite ease-in-out;
      }
      @keyframes pulse {
        0% {
          transform: scale(0.4);
          opacity: 0.00;
        } 
        50% {
          transform: scale(0.55);
          opacity: 0.3;
        }
        100% {
          transform: scale(0.4);
          opacity: 0.05;
        }
      }
      #pulsating-heart {
        animation: pulse 2s infinite ease-in-out;
      }
      .confetti {
        position: absolute;
        width: 8px;
        height: 8px;
        background-color: #f67280;
        border-radius: 50%;
        animation: fall 3s ease-in forwards;
        z-index: 50;
      }
      @keyframes fall {
        to {
          transform: translateY(100vh) rotate(360deg);
          opacity: 0;
        }
      }

      #final-section-image {
        background-color: #fce7f3; /* Light pink fallback */
        height: 80vh;
        display: flex;
        justify-content: center;
        align-items: center;
        text-align: center;
        position: relative;
        overflow: hidden; /* Important for rounded corners and scale effects */
      }
      .shadow-text {
        text-shadow: 0 4px 6px rgba(0, 0, 0, 0.6);
      }

      #wish-modal .modal-content {
        padding: 2rem;
        max-width: 600px;
        max-height: 90vh;
        overflow-y: auto;
      }

      #current-reason {
        transition: opacity 0.3s ease-in-out;
        min-height: 2.5rem;
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
      }
    </style>
  </head>
  <body class="min-h-screen">
    <!-- entry -->
    <section
      id="date-gate"
      class="min-h-screen flex flex-col justify-center items-center text-center bg-pink-50 p-4"
    >
      <div class="bg-white p-8 md:p-16 rounded-xl shadow-2xl max-w-lg w-full">
        <h1 class="text-3xl md:text-4xl font-light mb-6 text-gray-800">
         ‘≤’°÷Ä’´ ‘≥’°’¨’∏÷Ç’Ω’ø,
         ‘º’°’∏÷Ç÷Ä’° ’ã’°’∂÷â
        </h1>
        <p class="text-lg md:text-xl text-gray-600 mb-8">
          ’Ñ’∏÷Ç’ø÷Ñ ‘≥’∏÷Ä’Æ’•’¨’∏÷Ç ’Ä’°’¥’°÷Ä, ‘≥÷Ä’•÷Ñ ’Å’•÷Ä ‘æ’∂’∂’§’µ’°’∂ ‘±’¥’Ω’°’©’´’æ’®
        </p>

        <input
          id="birth-date-input"
          type="text"
          placeholder="’ï’ï‚Ä§‘±‘±‚Ä§’è’è’è’è (’ï÷Ä’´’∂’°’Ø, 26‚Ä§04‚Ä§2005)"
          class="w-full p-4 text-center border-2 border-pink-300 rounded-lg text-lg focus:outline-none focus:ring-2 focus:ring-pink-500 mb-6 transition-all"
        />

        <button
          id="check-date-button"
          class="minimal-button border-pink-500 text-pink-500 hover:bg-pink-500 hover:text-white"
          onclick="checkDate()"
        >
          ‘±’∂÷Å’∂’•’¨ ‘±’º’°’ª
        </button>
        <p id="date-error" class="text-red-500 mt-4 hidden">
          ‘º’°’∏÷Ç÷Ä’´’Ø’® ’π’´÷â’ï’û’æ’•’Ω ‘±÷Ä’°üò°
        </p>
      </div>
    </section>

    <div id="main-content" class="max-w-4xl mx-auto py-10 px-4 hidden relative">
      <!-- greeting -->
      <section
        id="greeting"
        class="min-h-screen flex flex-col justify-center items-center text-center"
      >
        <h1
          class="text-5xl md:text-7xl font-light tracking-tight text-pink-600 mb-6 animate-pulse"
        >
          ‘æ’∂’∏÷Ç’∂’§’§ ’∑’∂’∏÷Ä’∞’°’æ’∏÷Ä,‘ª’¥ ‘±’¥’•’∂’°’¨’°’æ ‘º’°’∏÷Ç÷Ä’´’Ø
        </h1>
        <p class="text-xl md:text-2xl text-gray-600 max-w-2xl">
          ‘±’µ’Ω÷Ö÷Ä - ‘±’¥’•’∂’°’¨’°’æ ’ï÷Ä’∂ ’ß,’î’°’∂’´ ’∏÷Ä ‘º’∏÷Ç’µ’Ω ‘±’∑’≠’°÷Ä’∞ ’•’Ω ‘µ’Ø’•’¨ ’§’∏÷Ç,’Ä’°÷Ä’£’•’¨’´ ‘±÷Ä’•’£’°’Ø÷â‘ª’ª’´ ’Ü’•÷Ä’£÷á,÷á ’ø’•’Ω ’¥’∂’°÷Å’°’Æ’®÷â
        </p>
      </section>

      <!--cake-->
      <section
        id="cake-section"
        class="py-20 flex flex-col items-center justify-center text-center"
      >
        <h2 class="text-3xl md:text-4xl font-light mb-8 text-gray-800">
          ’ì’π’´÷Ä ’Ñ’∏’¥’®
        </h2>

        <div id="cake">
          <div id="candle-flame" class="candle-flame"></div>
          <div class="candle-wick"></div>
          <div class="layer layer-top"></div>
          <div class="icing"></div>
          <div class="layer layer-middle"></div>
          <div class="layer layer-bottom"></div>
        </div>

        <button
          id="blow-button"
          class="minimal-button mt-10"
          onclick="blowCandles()"
        >
          ’ì’π’´÷Ä
        </button>
        <p id="cake-message" class="text-lg text-green-600 mt-4 hidden">
          ’Ñ‘±‘º‘±‘¥‘µ’ë’ë’ë!
        </p>
        <div id="confetti-container"></div>
      </section>

      <!--Gallery-->
      <section id="gallery-section" class="py-20 hidden">
        <h2
          class="text-3xl md:text-4xl font-light mb-10 text-center text-gray-800"
        >
          ’Ñ’•÷Ä ‘±’µ’Ω ’è’°÷Ä’æ’° ‘º’°’æ ’Ä’´’∑’∏’≤’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä’´÷Å
        </h2>
        <div id="photo-gallery-grid" class="photo-grid">
      </section>

      <!--section letter-->
      <section
        id="letter-section"
        class="py-20 flex flex-col items-center justify-center text-center hidden"
      >
        <div id="pulsating-heart" class="mb-4">
          <!--pulsating heart-->
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-16 w-16 text-red-500"
            viewBox="0 0 20 20"
            fill="currentColor"
          >
            <path
              fill-rule="evenodd"
              d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z"
              clip-rule="evenodd"
            />
          </svg>
        </div>
        <div
          id="letter-card"
          class="bg-red-200 p-10 md:p-16 rounded-xl shadow-xl cursor-pointer hover:shadow-2xl transition-all duration-300 transform hover:scale-[1.03]"
          onclick="openModal()"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-16 w-16 text-red-700 mx-auto mb-4"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="1.5"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path
              d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"
            ></path>
            <polyline points="22,6 12,13 2,6"></polyline>
          </svg>
          <p class="text-2xl md:text-3xl font-semibold text-red-800">
            ‘≤’°÷Å’´÷Ä ‘ª’¥ ’ç’´÷Ä’ø’®
          </p>
          <p class="text-sm mt-2 text-red-600">’ç’•’≤’¥’´÷Ä ’Ü’°’¥’°’Ø’´’∂</p>
        </div>
      </section>

      <!--section lovereason-->
      <section
        id="love-reasons-section"
        class="py-20 flex flex-col items-center justify-center text-center hidden"
      >
        <h2 class="text-3xl md:text-4xl font-light mb-8 text-gray-800">
          ’î’•’¶ ’ç’´÷Ä’•’¨’∏÷Ç 100 ’ä’°’ø’≥’°’º
        </h2>
        <div
          id="reason-display-card"
          class="bg-purple-100 border-4 border-purple-300 p-6 rounded-xl shadow-lg max-w-sm h-32 w-full flex items-center justify-center mb-8 transition-all duration-500 ease-in-out"
        >
          <p
            class="text-xl font-medium text-purple-800 italic"
            id="current-reason"
          >
            ’ç’•’≤’¥’´÷Ä, ‘ª’¥’°’∂’°’¨’∏÷Ç ’Ä’°’¥’°÷Ä!
          </p>
        </div>
        <button
          id="next-reason-button"
          class="minimal-button border-purple-500 text-purple-500 hover:bg-purple-500 hover:text-white"
          onclick="showNextReason()"
        >
          ’Ä’°’ª’∏÷Ä’§ ’ä’°’ø’≥’°’º’®
        </button>
      </section>

      <!--26.jpg-->
      <section id="final-love-section" class="py-20 hidden">
        <div
          id="final-section-image"
          class="rounded-xl shadow-2xl relative overflow-hidden"
        >
          <!--last background -->
          <img
            src="./pictures/26.jpg"
            alt="–ù–∞—à–µ —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ —Ñ–æ—Ç–æ"
            class="absolute inset-0 w-full h-full object-cover transition-transform duration-500 hover:scale-105"
            onerror="this.src='https://placehold.co/1200x800/ffc0cb/333333?text=–§–û–¢–û+26+–ù–ï+–ù–ê–ô–î–ï–ù–û';"
          />

          <!--(Overlay)-->
          <div
            class="absolute inset-0 bg-black opacity-40 rounded-xl z-10"
          ></div>

          <div
            class="relative flex flex-col justify-center items-center w-full h-full text-center p-4 z-20"
          >
            <p
              class="text-3xl md:text-5xl font-extrabold text-white shadow-text"
            >
              ‘µ’Ω ’°’µ’∂÷Ñ’°’∂ ’•÷Ä’ª’°’∂’´’Ø ’•’¥,’∏÷Ä ’§’∏÷Ç ’Ø’°’Ω ’´’¥ ’Ø’µ’°’∂÷Ñ’∏÷Ç’¥,’´’¥ ‘±’ê‘µ‘≥‘±‘ø‚òÄÔ∏è
            </p>
          </div>
        </div>
      </section>

      <!-- letter -->
      <div id="wish-modal" class="modal-overlay hidden" onclick="closeModal()">
        <div class="modal-content" onclick="event.stopPropagation()">
          <h3
            class="text-2xl md:text-3xl font-light mb-6 text-red-800 border-b pb-2"
          >
            ‘ª’¥ ‘≥’¨’≠’°’æ’∏÷Ä ’ë’°’∂’Ø’∏÷Ç’©’µ’∏÷Ç’∂’®
          </h3>
          <p
            class="whitespace-pre-wrap text-base md:text-lg leading-relaxed text-gray-700"
            id="wish-message"
          ></p>
          <button
            class="minimal-button mt-8 bg-red-600 text-white border-red-600 hover:bg-red-700 hover:border-red-700"
            onclick="closeModal()"
          >
            ’ì’°’Ø’•’¨ ÷á ’á’°÷Ä’∏÷Ç’∂’°’Ø’•’¨
          </button>
        </div>
      </div>

      <!-- Lightbox Modal pictures -->
      <div
        id="lightbox-modal"
        class="modal-overlay hidden"
        onclick="closeLightbox()"
      >
        <div
          class="modal-content max-w-2xl p-0"
          onclick="event.stopPropagation()"
        >
          <img
            id="lightbox-image"
            src=""
            alt="Full size gallery image"
            class="w-full h-auto rounded-t-xl max-h-[70vh] object-contain bg-black"
          />
          <div class="p-4 bg-white rounded-b-xl">
            <p
              id="lightbox-caption"
              class="text-lg text-gray-700 mb-4 font-semibold"
            ></p>
            <button
              class="minimal-button border-gray-400 text-gray-600 hover:bg-gray-100 hover:text-gray-800"
              onclick="closeLightbox()"
            >
              ’ì’°’Ø’•’¨
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- audio player -->
    <audio id="birthday-song" src="./music/song.mp3" loop></audio>
    <button
      id="music-toggle-button"
      class="fixed bottom-4 right-4 md:bottom-6 md:right-6 bg-pink-600 text-white p-4 rounded-full shadow-lg z-40 transition-all duration-300 hover:bg-pink-700 hover:scale-110"
    >
      <div id="play-icon">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-6 w-6"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
          stroke-width="2"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M9 19V6l11 6.5-11 6.5z"
          />
        </svg>
      </div>
      <div id="pause-icon" class="hidden">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-6 w-6"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
          stroke-width="2"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M10 9v6m4-6v6"
          />
        </svg>
      </div>
    </button>

    <script>
      // settings
      const CORRECT_DATE = "30.12.2006";
      const IMAGE_EXTENSION = ".jpg";

      // text under pictures
      const photoData = [
        { text: "’á’°’ø ’¢’°÷Ä’´ ’•’Ω ’Ω’ø’•’≤,’∂’¥’°’∂’•’¨ ’•÷Ñ ’¥’´÷Ñ’´’π‚Ä§" }, // 1
        { text: "’Ä’∏÷Ç’Ω’∏’æ ’•’∂÷Ñ R.Insights ’π’´÷â." }, // 2
        { text: "‘ª’¥ ‘ø’∏÷Ç’º’ø’Ø’•’∂ ÷Ñ’•’¶ ’∑’°’ø ’∑’°’ø’° ’Ω’°’¶’∏÷Ç’¥÷â" }, // 3
        { text: "’ç’à’í’á‘ª‘ª‘ª‘ª‘ª‘ª‘ª‘ª‘ª‘ª‘ª‘ª‘ª‘ª" }, // 4
        {
          text: "’ç’´÷Ä’∏÷Ç’¥ ’•’¥ ’•÷Ä’¢ ÷Ñ’•’¶ ’Æ’°’≤’´’Ø’∂’•÷Ä ’•’¥ ’∂’æ’´÷Ä’∏÷Ç’¥ ’∏÷Ç ’∞’°’ª’∏÷Ä’§ ÷Ö÷Ä’® ’°÷Ä’§’•’∂ ÷Ñ÷Å’∏÷Ç’¥ ’•÷Ñ‚Ä§",
        }, // 5
        { text: "‘µ’Ω ’•’∂ ’∂’Ø’°÷Ä’∂’° ’∏÷Ä ’¥’´ 50 ’°’∂’£’°’¥ ’∞’°’¥’∏’¶’•÷Å’´ ’∂’∏÷Ä ’°÷Ä’•÷Å’´÷Ä÷â" }, // 6
        { text: "‘±’¥’•’∂’°’¨’°’æ ’∫’´’Ø’∂’´’Ø’∂’•÷Ä’® ’©’∏÷Ç’¥’∏’µ’∏÷Ç’¥÷â" }, // 7
        { text: "’à÷Ä ’∞’°’¥’∏’¶’∏÷Ç’¥ ’ß’´ ’£’∂’°’´’∂÷Ñ ’´’∂’π ’∏÷Ä ’Ø’´’∂’∏ ’∂’°’µ’•’∂÷Ñ ’´’¥ ’∏÷Ç’¶’°’Æ,’¢’°’µ÷Å ’æ’•÷Ä’ª’® ’∂’°’µ’∏÷Ç’¥ ’ß’´’∂÷Ñ ’≠’∏’Ω’Ø’´ ’¢’•÷Ä’•’¥’•’∂’∂’° ’æ ’∑’•’Ω’ø’∂’°’§÷Å’°’Æ÷â" }, // 8
        { text: "’Ñ’µ’∏÷Ç’Ω ’ø’°÷Ä’´ ÷Ñ’•’¶ ’¨’´÷Ñ’® ’ø’∏’¨’¥’∏÷Ç’º’´’Ø’•’¥ ’°’∂’•’¨’∏÷Ç÷â" }, // 9
        { text: "’á’°’ø ’¢’∏÷Å’° ’∏÷Ä ’Ω’•’∂÷Å ’∂’Ø’°÷Ä’∂’•÷Ä’∏÷Ç’¥ ’§’∏÷Ç fancy ’Ω’•’∂÷Å ’Ω’´÷Ä’∏÷Ç’∂’´’Ø ’¥’´÷Ä’∏÷Ç’∂’´’Ø’•’Ω ’¢’°’µ÷Å ’Ω’°’≤ ÷Ö÷Ä ’Æ’•’Æ’∏÷Ç’¥’•’Ω ’´’∂’±’±÷â" }, // 10
        { text: "‘≤’°’µ÷Å ’´÷Ä’°’Ø’°’∂’∏÷Ç’¥ ’§’∏÷Ç ’∑’°’ø’•’Ω ’Ω’´÷Ä’∏÷Ç’¥ ’´’∂’±÷â" }, // 11
        { text: "’à÷Ç ’•’Ω’•’¨ ÷Ñ’•’¶ ’•’¥ ’∑’°’ø ’∑’°’ø ’∑’°’ø ’Ω’´÷Ä’∏÷Ç’¥÷â" }, // 12
        { text: "‘º’•’£’•’∂’§’°÷Ä ’∂’Ø’°÷Ä÷â." }, // 13
        { text: "’á’°’ø ’¨’°’æ ÷Ö÷Ä’•÷Ä,’•’Ø’∏’≤ ’ø’°÷Ä’´ ’°’æ’•’¨’´ ’∑’°’ø ’£’∂’°’∂÷Ñ ’¨’°’æ ’ø’•’≤’•÷Ä(’•’©’• ’´’∞’°÷Ä’Ø’• ’¢’°’∂’°’Ø ’π’ø’°’∂’•’∂)" }, // 14
        { text: "’à÷Ç’¶’∏÷Ç’¥ ’•’¥ ’∏÷Ä ’°’π’Ø’•÷Ä’§ ’¥’´’∑’ø ÷É’°’µ’¨’•’∂ ’´’¥ ’Ø’∏’≤÷Ñ’®,’∏’∂÷Å ’•’∂ ’™’°’¥’°’∂’°’Ø÷â." }, // 15
        { text: "’ç’´÷Ä’∏÷Ç’¥ ’•’¥ ’•’Ω ÷Ñ’∏ ’∞’´’°÷Å’°’Æ ’§’•’¥÷Ñ’®÷â" }, // 16
        { text: "‘µ’Ø’∏’≤ ’ø’°÷Ä’´’•’¨ ’¨’´÷Ñ’®’®’® ’¨’°’æ ’∞’°÷Å ’∫’´’ø’´ ’∏÷Ç’ø’•’∂÷Ñ ’´÷Ä’°÷Ä ’∞’•’ø÷â" }, // 17
        { text: "’à÷Ç’¶’∏÷Ç’¥ ’•’¥ ’¥’´’∑’ø ’Ω’•’∂÷Å ’´’¥ ’æ’¶’´’∂ ’∂’Ω’ø’°÷Å ’¨’´’∂’•’Ω÷â" }, // 18
        { text: "’á’°’ø ’Ø’°’µ÷Ü’° ’∏÷Ä ’§’∏÷Ç ’´’¥ ’§’•’¢’´’¨’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä’® ’∞’°’Ω’Ø’°’∂’∏÷Ç’¥’•’Ω,’∏÷Ç ’°’æ’•’¨’´ ’Ø’°’ø’°÷Ä’•’¨’°’£’∏÷Ä’Æ’∏÷Ç’¥ ’•’Ω÷â" }, // 19
        { text: "’à÷Ç ’∏’∂÷Å ’•’Ω ’¢’∏’¨’∏÷Ä ’∂’Ø’°÷Ä’∂’•÷Ä’∏÷Ç’¥,’¥’´’∑’ø ’•’≤’´ ’Ø’∏’≤÷Ñ’Ω ’Ø’°’∂’£’∂’°’Æ ’∏÷Ç ’Ω’•’∂÷Å ’™’∫’´’ø’∏’æ÷â" }, // 20
      ];

      // –í–ê–®–ï –î–õ–ò–ù–ù–û–ï –ü–û–ñ–ï–õ–ê–ù–ò–ï –ó–î–ï–°–¨
      const longWishMessage = `
            ‘ª’¥ ’°’¥’•’∂’°’¨’°’æ ‘±÷Ä’•’£’°’Ø,’•’Ω ’Ø’µ’°’∂÷Ñ’∏÷Ç’¥ ’§’∏÷Ç ’´’¥ ’°’¥’•’∂’°’¨’°’æ ’±’•’º÷Ñ’¢’•÷Ä’∏÷Ç’¥’∂ ’•’Ω,’π’∂’°’µ’°’Æ ’∏÷Ä ’∏÷Ä ’∑’°’ø ’™’°’¥’°’∂’°’Ø ’¥’•’∂÷Ñ ’´÷Ä’°÷Ä ’∞’•’ø ’Ø’º’æ’∏÷Ç’¥ ’•’∂÷Ñ,’¥’´’∑’ø ’´’¥’°÷Å’´÷Ä ’∏÷Ä ’•’Ω ÷Ñ’∏ ’Ø’∏’≤÷Ñ’∂’•’¥ ’°’¥’•’∂ ’∫’°÷Ä’°’£’°’µ’∏÷Ç’¥÷â
            ’á’∂’∏÷Ä’∞’°’æ’∏÷Ä ’Æ’∂’∏÷Ç’∂’§’§,’´’¥ ’°’¥’•’∂’°’¨’°’æ,’°’¥’•’∂’°’¢’°÷Ä’´,’°’¥’•’∂’°’∞’°’æ’°’µ’´ ’∫’°’ø’≥’°’º’∂’•÷Ä’∏’æ ’∂’•’≤’°÷Å’∏’≤,’¥’´’∑’ø ’§’™’£’∏’∞ ’¢’°’µ÷Å ’¥’´’•’æ’∂’∏÷Ç’µ’∂ ’™’°’¥’°’∂’°’Ø ÷É’∏÷Ñ÷Ä ’¢’°’∂’•÷Ä’´÷Å ’∏÷Ç÷Ä’°’≠’°÷Å’∏’≤ ‘º’°’∏÷Ç’º’´’Ø,’¥’´’∑’ø ’•’≤’´÷Ä ’Ω’•’∂÷Å ’¥’°÷Ñ’∏÷Ç÷Ä ’∏÷Ç ’¢’°÷Ä’´,’©’∏’≤ ’∏÷Ä ’•’Ω ’°’∑’≠’°÷Ä’∞’´ ’π’°÷Ä’∏÷Ç’©’µ’∏÷Ç’∂’® ’π÷É’π’°÷Å’∂’´ ÷Ñ’∏ ’¥’°÷Ñ’∏÷Ç÷Ä ’∞’∏’£’´’∂÷â
            ‘π’∏’≤ ’•’Ω ’•’Ø’∏’≤ ’ø’°÷Ä’∏÷Ç’¥ ÷Ñ’∏ ’¥’∏’ø ’°’¥’•’∂’´’∂’π ’¨’°’æ’°’∂’° ’∏÷Ç ’°’¥’•’∂’°’Ø’°÷Ä÷á’∏÷Ä’®,’´’∂’π ’ß’¨ ’¨’´’∂’´,’∞’´’∑’´ ’∏÷Ä ’§’∏÷Ç ’´’¥ ’∫’∏÷Ç’ª’∏÷Ç÷Ä’´’Ø ’°’≤’ª’´’Ø’∂’•’Ω ’∏÷Ç’¥ ’•’Ω ’¥’´’∑’ø ’¥’°’∂’•’¥ ’ø’°’¨’∏÷Ç ’´’¥ ’æ’¶’´ ’æ÷Ä’°÷â’á’°’ø ’∑’°’ø ’Ω’´÷Ä’∏÷Ç’¥ ’•’¥ ÷Ñ’•’¶,÷Ñ’∏ ‘±÷Ä’•’£’°’Ø’°’∫’•’ø÷â
        `;

      const reasonsWhyILoveYou = [
        "’î’∏ ‘±’π’Ø’•÷Ä’´ ’Ä’°’¥’°÷Ä÷â", // 1
        "’î’∏ ’Ñ’°÷Ä’¥’∂’´ ’Ä’∏’ø’´ ’Ä’°’¥’°÷Ä÷â", // 2
        "’î’∏ ’ç’´÷Ä’∏÷Ç’∂ ‘±’ø’°’¥’∂’•÷Ä’´ ’Ä’°’¥’°÷Ä÷â", // 3
        "’î’∏ ‘±’ª ’Ñ’°÷Ä’•’ø’´’Ø’´ ’é÷Ä’°’´ ‘Ω’°’¨’´ ’Ä’°’¥’°÷Ä÷â", // 4
        "’î’∏ ’Å’°’≠ ’à’ø’´ ‘≤’∏÷Ç’© ’Ñ’°’ø’´ ‘µ’≤’∏÷Ç’∂’£’´ ’Ä’°’¥’°÷Ä÷â", // 5
        "’î’∏ ’ç÷á ’Ä’∏÷Ç’¥’∏÷Ä’´ ’Ä’°’¥’°÷Ä÷â", // 6
        "’î’∏ ‘±’∂’∏÷Ç’≤’•’≤ ‘≤’°’∂’•÷Ä ‘±’∂’•’¨’∏÷Ç ’Ä’°’¥’°÷Ä÷â ", // 7
        "’î’∏ ’Ä’°’¥’∏’æ ’∏÷Ç ‘±’∂’Ø÷Ä’Ø’∂’•’¨’´ ’á÷Ä’©’∏÷Ç’∂÷Ñ’∂’•’´ ’Ä’°’¥’°÷Ä÷â", // 8
        "’î’∏ ‘±’∂’Ø’•’≤’Æ ‘∫’∫’´’ø’´ ’Ä’°’¥’°÷Ä÷â", // 9
        "’î’∏ ‘ª’§’•’°’¨’°’Ø’°’∂ ‘¥’´’¥’°’£’Æ’•÷Ä’´ ’Ä’°’¥’°÷Ä÷â", // 10
        "’î’∏ ’ì’≠÷Ä’∏÷Ç’∂ ’Ä’∏’£’∏÷Ç ’Ä’°’¥’°÷Ä÷â", // 11
        "’î’∏ ’ç’´÷Ä’∏÷Ç’∂ ’Ä’•’ø÷á’´ ’Ä’°’¥’°÷Ä÷âüòã", // 12
        "’î’∏ ’Ñ’°÷Ä’•’ø’´’Ø’∂’•÷Ä’´ ’Ä’°’¥’°÷ÄüòÅ", // 13
        "’î’∏ ’î’°÷Ñ ‘≤’∂’°’æ’∏÷Ä’∏÷Ç’©’µ’°’∂ ’Ä’°’¥’°÷Ä÷â", // 14
        "’î’∏ ’Ñ’°’¶’•÷Ä’´ ’Ä’°’¥’°÷Ä÷â", // 15
        "’î’∏ ’Å’•’º’∂’•÷Ä’´ ’é÷Ä’°’´ ’à÷Ç’¶’∏’º’∂’•÷Ä’´ ’Ä’°’¥’°÷Ä÷â", // 16
        "’î’∏ ‘π’°’©’´’Ø’∂’•÷Ä’´ ’Ä’°’¥’°÷Ä÷â", // 17
        "’î’∏ ’ä’∏÷Ç’≥’∏÷Ç÷Ä’´’Ø ’à’ø’´’Ø’∂’•÷Ä’´ ’Ä’°’¥’°÷Ä÷â", // 18
        "’î’∏ ’Å’•’∂’´ ’Ä’°’¥’°÷Ä÷â", // 19
        "’î’∏ ‘≤’¨’©’°’Ø’∂’•÷Ä’´ ’Ä’°’¥’°÷Ä÷â", // 20
        "’î’∏ ’é’¶’´ ’Ä’∏’ø’´ ’Ä’°’¥’°÷Ä÷â", // 21
        "’î’∏ ‘º’°’æ ’∞’°÷Å ’∏÷Ç’ø’•’¨’® ’ç’´÷Ä’•’Ø’∏÷Ç ’Ä’°’¥’°÷Ä÷â", // 22
        "’î’∏ ‘≤’°÷Ä’∏÷Ç’©’µ’°’∂ ’Ä’°’¥’°÷Ä÷â", // 23
        "’î’∏ ‘±’Ø’°’∂’ª’´ ‘ø’•’≤’ø’´’Ø’∂’•÷Ä’´ ’Ä’°’¥’°÷Ä÷â", // 24
        "’î’∏ ’Ñ’°’¶’•÷Ä’´ ’Ä’∏’ø’´ ’Ä’°’¥’°÷Ä÷â", // 25
        "’î’∏ ’Ñ’´’∑’ø ‘¥’™’£’∏’∞ ’§’•’¥÷Ñ’´ ’Ä’°’¥’°÷Ä÷â", //26
        "’î’∏ ‘≥’°’∂’£’∏÷Ç’º’´’Ø’∂’•÷Ä’´ ’Ä’°’¥’°÷Ä÷â", //27
        "’î’∏ ’ì’°÷É’∏÷Ç’Ø ‘π’∏÷Ç’∑’´’Ø’∂’•÷Ä’´ ’Ä’°’¥’°÷Ä÷â", //28
        "’î’∏ ’é’¶’´ ’Ä’•’ø÷á’´ ’Ñ’°’¶’•÷Ä’´ ’Ä’°’¥’°÷Ä÷â", //29
        "’î’∏ ‘Ω’∂’§’°’¨’∏÷Ç ’Ä’°’¥’°÷Ä÷â", //30
        "’Ü÷Ä’° ’Ä’°’¥’°÷Ä, ’∏÷Ä ’Ñ’ø’°’Æ’∏÷Ç’¥ ‘µ’Ω ’∏÷Ä ‘±’¥’•’∂ ’´’∂’π ‘ø’°÷Ä’°’Ω ‘±’∂’•’Ω ’Ä’•’ø’Ω÷â", //31
        "’Ü÷Ä’° ’Ä’°’¥’°÷Ä, ’∏÷Ä ‘±’¥’•’∂’´’∂’π ’´’∂’± ’ä’°’ø’¥’∏÷Ç’¥ ’•’Ω÷â", //32
        "’Ü÷Ä’° ’Ä’°’¥’°÷Ä, ’∏÷Ä ’î’∏ ‘ø’°÷Ä’Æ’´÷Ñ’∏’æ ‘¥’∏÷Ç ’Ñ’•’∂’°’Ø’∏’æ ‘±’¥’•’∂ ‘ª’∂’π ‘ø’°÷Ä’°’Ω ‘±’∂’•’Ω÷â", //33
        "’Ü÷Ä’° ’Ä’°’¥’°÷Ä, ’∏÷Ä ’Ä’°’Ω’Ø’°÷Å’∏’≤ ’•’Ω÷â", //34
        "’Ü÷Ä’° ’Ä’°’¥’°÷Ä, ’∏÷Ä ‘ø’°’Ø’°’∑’•’Ω ‘±’∂’∏÷Ç’¥ ‘≤’•÷Ä’°’∂’Ω ‘±’¥’•’∂ ’ï÷Ä÷â", //35
        

      ];
      let lastReasonIndex = -1;

      // --- DOM elements ---
      const mainContent = document.getElementById("main-content");
      const dateGate = document.getElementById("date-gate");
      const dateInput = document.getElementById("birth-date-input");
      const dateError = document.getElementById("date-error");
      const cakeFlame = document.getElementById("candle-flame");
      const cakeMessage = document.getElementById("cake-message");
      const blowButton = document.getElementById("blow-button");

      // sections
      const gallerySection = document.getElementById("gallery-section");
      const photoGalleryGrid = document.getElementById("photo-gallery-grid");
      const letterSection = document.getElementById("letter-section");
      const wishModal = document.getElementById("wish-modal");
      const wishMessageElement = document.getElementById("wish-message");
      const finalLoveSection = document.getElementById("final-love-section");
      const loveReasonsSection = document.getElementById(
        "love-reasons-section"
      );

      // Lightbox
      const lightboxModal = document.getElementById("lightbox-modal");
      const lightboxImage = document.getElementById("lightbox-image");
      const lightboxCaption = document.getElementById("lightbox-caption");

      // music
      const musicButton = document.getElementById("music-toggle-button");
      const birthdaySong = document.getElementById("birthday-song");
      const playIcon = document.getElementById("play-icon");
      const pauseIcon = document.getElementById("pause-icon");

      let cakeBlown = false;

      function checkDate() {
        const enteredDate = dateInput.value.trim();
        if (enteredDate === CORRECT_DATE) {
          dateGate.classList.add("hidden");
          mainContent.classList.remove("hidden");
          dateError.classList.add("hidden");
          generateTwinkleHearts();

          const initialPlayPromise = birthdaySong.play();
          if (initialPlayPromise !== undefined) {
            initialPlayPromise
              .then(() => {
              })
              .catch((e) => {
                console.log(
                  "Initial audio play ignored by browser (expected if no direct interaction)."
                );
                updateMusicIcon();
              });
          }
        } else {
          dateError.classList.remove("hidden");
        }
      }

      function generateTwinkleHearts() {
        const numHearts = 35;
        for (let i = 0; i < numHearts; i++) {
          const heart = document.createElement("div");
          heart.className = "twinkle-heart";
          heart.innerHTML = "ü©∑";

          heart.style.top = `${Math.random() * 90}vh`;
          heart.style.left = `${Math.random() * 90}vw`;
          heart.style.animationDelay = `${Math.random() * 2}s`;
          heart.style.fontSize = `${1 + Math.random()}rem`;

          document.body.appendChild(heart);
        }
      }

      function createConfetti(num) {
        const confettiContainer = document.getElementById("confetti-container");
        const rect = blowButton.getBoundingClientRect();

        for (let i = 0; i < num; i++) {
          const confetto = document.createElement("div");
          confetto.className = "confetti";

          const startX =
            rect.left + rect.width / 2 + (Math.random() - 0.5) * 50;
          const startY = rect.top - 10;

          confetto.style.left = `${startX}px`;
          confetto.style.top = `${startY}px`;

          const colors = ["#ff69b4", "#f67280", "#ff007f", "#ffc0cb"];
          confetto.style.backgroundColor =
            colors[Math.floor(Math.random() * colors.length)];

          confetto.style.animation = `fall 3s ${
            Math.random() * 0.5
          }s ease-out forwards`;

          confettiContainer.appendChild(confetto);

          setTimeout(() => confetto.remove(), 3500);
        }
      }

      function blowCandles() {
        if (cakeBlown) return;

        cakeFlame.style.opacity = "0";
        createConfetti(50);
        cakeMessage.classList.remove("hidden");
        blowButton.innerText = "‘±÷Ä’§’•’∂ ’ì’π’•’¨ ’•’Ω!";
        blowButton.disabled = true;
        blowButton.classList.add("opacity-50", "cursor-not-allowed");

        cakeBlown = true;

        renderPhotos();
        gallerySection.classList.remove("hidden");
        letterSection.classList.remove("hidden"); 


        setTimeout(() => {
          gallerySection.scrollIntoView({ behavior: "smooth", block: "start" });
        }, 500);
      }

      function renderPhotos() {
        let html = "";
        for (let i = 1; i <= photoData.length; i++) {
          const imagePath = `./pictures/${i}${IMAGE_EXTENSION}`;
          const altText = photoData[i - 1].text;

          html += `
                    <div class="photo-item group cursor-pointer" onclick="openLightbox(${i})">
                        <img src="${imagePath}" alt="${altText}" loading="lazy" 
                             onerror="this.src='https://placehold.co/400x400/cccccc/333333?text=Photo+${i}';" 
                             class="transition-transform duration-500 group-hover:scale-110">
                    </div>
                `;
        }
        photoGalleryGrid.innerHTML = html;
      }

      function openLightbox(index) {
        if (index < 1 || index > photoData.length) {
          console.error("Invalid photo index:", index);
          return;
        }

        const data = photoData[index - 1];
        const imagePath = `./pictures/${index}${IMAGE_EXTENSION}`;

        lightboxImage.src = imagePath;
        lightboxImage.onerror = function () {
          this.src = "https://placehold.co/800x600/cccccc/333333?text=–ù–µ—Ç+–§–æ—Ç–æ";
        };
        lightboxCaption.innerText = data.text;
        lightboxModal.classList.remove("hidden");
        document.body.style.overflow = "hidden";
      }

      function closeLightbox() {
        lightboxModal.classList.add("hidden");
        document.body.style.overflow = "auto";
      }

      function openModal() {
        wishMessageElement.innerText = longWishMessage.trim();
        wishModal.classList.remove("hidden");
        document.body.style.overflow = "hidden";
      }

      function closeModal() {
        wishModal.classList.add("hidden");
        document.body.style.overflow = "auto";

        loveReasonsSection.classList.remove("hidden");

        setTimeout(() => {
          loveReasonsSection.scrollIntoView({
            behavior: "smooth",
            block: "start",
          });
        }, 100);
      }

      // love reason
      function showNextReason() {
        const reasonDisplay = document.getElementById("current-reason");

        const nextReasonButton = document.getElementById("next-reason-button");
 
        if (reasonsWhyILoveYou.length === 0) {
          reasonDisplay.innerText = "’ç÷Ä’°’∂÷Ñ ’§’•’º ’°’¥’•’∂’® ’π’ß’´’∂, ’¢’°’µ÷Å ’¥’∂’°÷Å’°’Æ’® ’∞’•’ø’∏ üòâ";
          nextReasonButton.innerText = "’ä’°’ø’≥’°’º’∂’•÷Ä’∂ ‘±’æ’°÷Ä’ø’æ’•÷Å’´’∂";
          nextReasonButton.disabled = true;
          nextReasonButton.classList.add("opacity-50", "cursor-not-allowed");
          return;
        }
 
        const nextIndex = Math.floor(Math.random() * reasonsWhyILoveYou.length);
        const reason = reasonsWhyILoveYou[nextIndex];
        reasonsWhyILoveYou.splice(nextIndex, 1); // Remove the reason to avoid repetition
 
        reasonDisplay.style.opacity = "0";
        setTimeout(() => {
          reasonDisplay.innerText = reason;
          reasonDisplay.style.opacity = "1";

 
          if (finalLoveSection.classList.contains("hidden")) {
            finalLoveSection.classList.remove("hidden");
          }
        }, 300);
      }

      function updateMusicIcon() {
        if (birthdaySong.paused || birthdaySong.ended) {
          playIcon.classList.remove("hidden");
          pauseIcon.classList.add("hidden");
        } else {
          playIcon.classList.add("hidden");
          pauseIcon.classList.remove("hidden");
        }
      }

      function toggleMusic() {
        if (birthdaySong.paused || birthdaySong.ended) {
          const playPromise = birthdaySong.play();

          if (playPromise !== undefined) {
            playPromise.catch((error) => {
              console.error(
                "Audio playback blocked by browser security policy. User needs another interaction.",
                error
              );
            });
          }
        } else {
          // –ü–∞—É–∑–∞
          birthdaySong.pause();
        }
      }

      document.addEventListener("DOMContentLoaded", () => {
        wishMessageElement.innerText = longWishMessage.trim();
        musicButton.addEventListener("click", toggleMusic);

        birthdaySong.addEventListener("play", updateMusicIcon);
        birthdaySong.addEventListener("pause", updateMusicIcon);
        birthdaySong.addEventListener("ended", updateMusicIcon);

        updateMusicIcon();
      });
    </script>
  </body>
</html>
